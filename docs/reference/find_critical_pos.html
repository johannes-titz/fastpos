<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Run simulations for one or several population correlations and return the
critical points of stability (POS). The critical point of stability is the
sample size at which a certain percentage of studies will fall into an a
priori specified interval and stay in this interval if the sample size is
increased further."><title>Find the critical point of stability — find_critical_pos • fastpos</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find the critical point of stability — find_critical_pos"><meta property="og:description" content="Run simulations for one or several population correlations and return the
critical points of stability (POS). The critical point of stability is the
sample size at which a certain percentage of studies will fall into an a
priori specified interval and stay in this interval if the sample size is
increased further."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fastpos</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/johannes-titz/fastpos/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Find the critical point of stability</h1>
      <small class="dont-index">Source: <a href="https://github.com/johannes-titz/fastpos/blob/HEAD/R/fastpos.R" class="external-link"><code>R/fastpos.R</code></a></small>
      <div class="d-none name"><code>find_critical_pos.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Run simulations for one or several population correlations and return the
critical points of stability (POS). The critical point of stability is the
sample size at which a certain percentage of studies will fall into an a
priori specified interval and stay in this interval if the sample size is
increased further.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_critical_pos</span><span class="op">(</span></span>
<span>  <span class="va">rho</span>,</span>
<span>  precision_absolute <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  confidence_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  sample_size_min <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  sample_size_max <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  replace <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_studies <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  pop_size <span class="op">=</span> <span class="fl">1e+06</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  precision_relative <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  lower_limit <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  upper_limit <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu">show_progress</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  precision <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  precision_rel <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rhos <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>rho</dt>
<dd><p>Vector of population correlations (can also be a single correlation).</p></dd>


<dt>precision_absolute</dt>
<dd><p>Precision around the correlation which is acceptable
(defaults to 0.1). The precision will determine the corridor of stability which is
just rho+-precision. Can be a single value or a vector (different values for
different rhos).</p></dd>


<dt>confidence_levels</dt>
<dd><p>Confidence levels for point of stability. This corresponds
to the quantile of the distribution of all found critical sample sizes (defaults
to c(.8, .9, .95)). A single value can also be used. Note that this value is fixed
for all rhos! You cannot specify different levels for different rhos.</p></dd>


<dt>sample_size_min</dt>
<dd><p>Minimum sample size for each study (defaults to 20). A vector
can be used (different values for different rhos).</p></dd>


<dt>sample_size_max</dt>
<dd><p>Maximum sample size for each study (defaults to 1e3). A
vector can be used (different values for different rhos). If you get a warning
that the corridor of stability was not reached, you should increase this value.
But note that this will increase the time for the simulation.</p></dd>


<dt>replace</dt>
<dd><p>Whether drawing samples is with replacement or not. Default is TRUE,
which usually should not be changed. This parameter is mainly of interest for
researchers studying the method in more detail. A vector can be used (different
values for different rhos).</p></dd>


<dt>n_studies</dt>
<dd><p>Number of studies to run for each rho (defaults to 10e3). A vector
can be used (different values for different rhos).</p></dd>


<dt>pop_size</dt>
<dd><p>Population size (defaults to 1e6). This is the size of the
population from which value pairs for correlations are drawn. This value should
usually not be decreased as it can lead to less accurate results.</p></dd>


<dt>n_cores</dt>
<dd><p>Number of cores to use for simulation. Defaults to 1.</p></dd>


<dt>precision_relative</dt>
<dd><p>Relative precision around the correlation
(rho+-rho*precision), if set, it will overwrite precision_absolute. A vector can
be used (different values for different rhos).</p></dd>


<dt>lower_limit</dt>
<dd><p>Lower limit of corridor, overrides precision parameters. A vector
can be used (different values for different rhos). If used, upper_limit must also
be set.</p></dd>


<dt>upper_limit</dt>
<dd><p>Upper limit of corridor, overrides precision parameters. A vector
can be used (different values for different rhos). If used, lower_limit must also
be set.</p></dd>


<dt>progress</dt>
<dd><p>Should progress bar be displayed? Logical, default is to show
progress when run in interactive mode.</p></dd>


<dt>precision</dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>, use precision_absolute instead</p></dd>


<dt>precision_rel</dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>, use precision_relative
instead</p></dd>


<dt>rhos</dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>, use rho instead</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame containing all the above information, as well as the critical
points of stability.</p>


<p>The points of stability follow directly after the first column (rho) and are
named pos.confidence-level, e.g. pos.80, pos.90, pos.95 for the default
confidence levels.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">find_critical_pos</span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0.5</span>, n_studies <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rho_pop pos.80% pos.90% pos.95% sample_size_min sample_size_max lower_limit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.5     143   211.2   285.1              20            1000         0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   upper_limit n_studies n_not_breached precision_absolute precision_relative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0.6      1000              0                0.1                 NA</span>
<span class="r-in"><span><span class="fu">find_critical_pos</span><span class="op">(</span>rho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.5</span><span class="op">)</span>, n_studies <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 1 simulation[s] did not reach the corridor of</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>             stability.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Increase sample_size_max and rerun the simulation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rho_pop pos.80% pos.90% pos.95% sample_size_min sample_size_max lower_limit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.4   177.2   253.1  344.15              20            1000         0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0.5   135.0   195.0  254.05              20            1000         0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   upper_limit n_studies n_not_breached precision_absolute precision_relative</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0.5      1000              0                0.1                 NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         0.6      1000              1                0.1                 NA</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Johannes Titz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

